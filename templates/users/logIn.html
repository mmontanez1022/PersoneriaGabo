{% load static %} <!-- Carga el tag de archivos estáticos de Django -->
<!DOCTYPE html> <!-- Define el documento como HTML5 -->
<html lang="es"> <!-- Establece el idioma de la página como español -->
<head> <!-- Inicio del encabezado del documento -->
  <meta charset="UTF-8"> <!-- Define la codificación de caracteres como UTF-8 -->
  <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Hace la página responsive en móviles -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"> <!-- Incluye Bootstrap desde CDN -->
  <link rel="stylesheet" href="{% static 'users/stylesLogIn.css' %}"> <!-- Hoja de estilos personalizada desde static -->
  <link rel="icon" href="{% static 'img/logo64.webp' %}" type="image/webp"> <!-- Favicon de la página -->
  <title>Inicia Sesión - Flujo de Registro</title> <!-- Título de la pestaña -->
</head> <!-- Cierre del head -->

<body> <!-- Inicio del cuerpo del documento -->

  <div class="login-container text-center"> <!-- Contenedor principal del login centrado -->
    <img src="{% static 'img/logo.webp' %}" class="logo-img mb-3" alt="Logo IE Gabo"> <!-- Logo de la institución -->
    <div class="login-title mb-4">Flujo de Registro de Votación</div> <!-- Título de la página -->

    {% if messages %} <!-- Si hay mensajes del sistema (Django messages framework) -->
      {% for message in messages %} <!-- Itera sobre los mensajes -->
        <div class="alert alert-{% if message.tags == 'error' %}danger {% else %}{{ message.tags }}{% endif %} alert-dismissible fade show" role="alert"> <!-- Caja de alerta según el tipo de mensaje -->
          {{ message }} <!-- Texto del mensaje -->
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button> <!-- Botón para cerrar la alerta -->
        </div>
      {% endfor %} <!-- Fin del bucle de mensajes -->
    {% endif %} <!-- Fin de la condición de mensajes -->

    <form method="POST"> <!-- Formulario de inicio de sesión con método POST -->
      {% csrf_token %} <!-- Token CSRF para seguridad -->
      <div class="mb-3 text-start"> <!-- Campo para el correo -->
        <label for="id_email" class="form-label">Correo electrónico</label> <!-- Etiqueta del campo -->
        <input type="email" name="email" class="form-control" id="id_email" required> <!-- Input de tipo email obligatorio -->
      </div>
      <div class="mb-4 text-start"> <!-- Campo para la contraseña -->
        <label for="id_password" class="form-label">Contraseña</label> <!-- Etiqueta del campo -->
        <input type="password" name="password" class="form-control" id="id_password" required> <!-- Input de tipo password obligatorio -->
      </div>
      <button type="submit" class="btn btn-gabo w-100">Iniciar sesión</button> <!-- Botón de envío -->
    </form> <!-- Fin del formulario -->

    <p class="text-muted mt-3" style="font-size: 0.9rem;">¡Vota con conciencia!</p> <!-- Texto motivacional -->
  </div> <!-- Fin del contenedor de login -->

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> <!-- Script de Bootstrap (para alertas, modales, etc.) -->
</body> <!-- Cierre del cuerpo -->
</html> <!-- Fin del documento HTML -->
